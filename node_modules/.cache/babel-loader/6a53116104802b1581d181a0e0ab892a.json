{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/connorchau/Desktop/deco-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axiosConfig from\"./axiosConfig\";import LookupResult from\"./LookupResult\";import ProfileResultField from\"./ProfileResultField\";import Footer from\"./Footer\";import{Link,Switch,Route,useHistory,useLocation}from'react-router-dom';import ArrowBackIcon from'@material-ui/icons/ArrowBack';function Profile(props){var history=useHistory();var location=useLocation();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isMouseOver=_useState2[0],setMouseOver=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),serviceRepairList=_useState4[0],setServiceRepairList=_useState4[1];var foundId=location.state.idResult;var foundProvince=location.state.provinceResult;var foundName=location.state.nameResult;var foundLicense=location.state.licenseResult;var foundVehicle=location.state.vehicleResult;var foundPlan=location.state.planResult;var foundPhone=location.state.phoneResult;var foundEmail=location.state.emailResult;function handleMouseOver(){setMouseOver(true);}function handleMouseOut(){setMouseOver(false);}function handleService(){history.push({pathname:\"/service\",state:{provinceResult:foundProvince,nameResult:foundName,licenseResult:foundLicense,vehicleResult:foundVehicle,planResult:foundPlan,phoneResult:foundPhone,emailResult:foundEmail}});}useEffect(function(){axiosConfig.get(\"/invoice\",{params:{foundEmail:foundEmail}}).then(function(response){setServiceRepairList(response.data);console.log(response.data);});},[foundEmail]);function createField(invoice){return/*#__PURE__*/_jsx(ProfileResultField,{date:invoice.date,user:invoice.user_id,repairItems:invoice.repair_items,name:invoice.full_name,license:invoice.license_plate,vehicle:invoice.vehicle_info,plan:invoice.plan_type},invoice.id);}return/*#__PURE__*/_jsxs(\"div\",{className:\"page-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"page-header\",children:\"Customer Profile\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"result-labels\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Full Name:\"}),/*#__PURE__*/_jsx(\"p\",{children:\"License Plate:\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Vehicle Info:\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Plan Type:\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Phone:\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Email Address:\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-data\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"result-text\",children:foundName}),/*#__PURE__*/_jsx(\"p\",{className:\"result-text\",children:foundLicense}),/*#__PURE__*/_jsx(\"p\",{className:\"result-text\",children:foundVehicle}),/*#__PURE__*/_jsx(\"p\",{className:\"result-text\",children:foundPlan}),/*#__PURE__*/_jsx(\"p\",{className:\"result-text\",children:foundPhone}),/*#__PURE__*/_jsx(\"p\",{className:\"result-text\",children:foundEmail})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"lookup-input search\",style:{backgroundColor:isMouseOver?\"black\":\"#E75A25\"},onMouseOver:handleMouseOver,onMouseOut:handleMouseOut,onClick:handleService,children:[\"Service\",/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-tools\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-result-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-headings-box\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"profile-headings-field\",children:\"Date\"}),/*#__PURE__*/_jsx(\"p\",{className:\"profile-headings-field\",children:\"User\"}),/*#__PURE__*/_jsx(\"p\",{className:\"profile-headings-field\",children:\"Repair Items\"}),/*#__PURE__*/_jsx(\"p\",{className:\"profile-headings-field\",children:\"License\"})]}),serviceRepairList.map(createField)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lookup-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:function onClick(){return history.push(\"/lookup\");},children:/*#__PURE__*/_jsx(ArrowBackIcon,{})}),/*#__PURE__*/_jsx(Footer,{})]})]});}export default Profile;","map":{"version":3,"sources":["/Users/connorchau/Desktop/deco-app/client/src/components/Profile.jsx"],"names":["React","useState","useEffect","axiosConfig","LookupResult","ProfileResultField","Footer","Link","Switch","Route","useHistory","useLocation","ArrowBackIcon","Profile","props","history","location","isMouseOver","setMouseOver","serviceRepairList","setServiceRepairList","foundId","state","idResult","foundProvince","provinceResult","foundName","nameResult","foundLicense","licenseResult","foundVehicle","vehicleResult","foundPlan","planResult","foundPhone","phoneResult","foundEmail","emailResult","handleMouseOver","handleMouseOut","handleService","push","pathname","get","params","then","response","data","console","log","createField","invoice","date","user_id","repair_items","full_name","license_plate","vehicle_info","plan_type","id","backgroundColor","map"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport axiosConfig from \"./axiosConfig\";\nimport LookupResult from \"./LookupResult\";\nimport ProfileResultField from \"./ProfileResultField\";\nimport Footer from \"./Footer\";\nimport { Link, Switch, Route, useHistory, useLocation } from 'react-router-dom';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\n\nfunction Profile(props) {\n    const history = useHistory();\n    const location = useLocation()\n    const [isMouseOver, setMouseOver] = useState(false);\n    const [serviceRepairList, setServiceRepairList] = useState([]);\n\n    const foundId = location.state.idResult;\n    const foundProvince = location.state.provinceResult;\n    const foundName = location.state.nameResult;\n    const foundLicense = location.state.licenseResult;\n    const foundVehicle = location.state.vehicleResult;\n    const foundPlan = location.state.planResult;\n    const foundPhone = location.state.phoneResult;\n    const foundEmail = location.state.emailResult;\n\n    function handleMouseOver() {\n        setMouseOver(true);\n    }\n\n    function handleMouseOut() {\n        setMouseOver(false);\n    }\n\n    function handleService() {\n        history.push({\n            pathname: \"/service\",\n            state: {\n                provinceResult: foundProvince,\n                nameResult: foundName,\n                licenseResult: foundLicense,\n                vehicleResult: foundVehicle,\n                planResult: foundPlan,\n                phoneResult: foundPhone,\n                emailResult: foundEmail\n            }\n        });\n    }\n\n    useEffect(()=> {\n        axiosConfig.get(\"/invoice\", {\n            params: {\n                foundEmail\n            }\n            })\n            .then(response => {\n                setServiceRepairList(response.data)\n                console.log(response.data)\n            });\n    }, [foundEmail]);\n\n    function createField(invoice) {\n        return (\n            <ProfileResultField\n                key={invoice.id}\n                date={invoice.date}\n                user={invoice.user_id}\n                repairItems={invoice.repair_items}\n                name={invoice.full_name}\n                license={invoice.license_plate}\n                vehicle={invoice.vehicle_info}\n                plan={invoice.plan_type}\n            />\n        );\n    }\n\n    return (\n    <div className=\"page-container\">\n        <h1 className=\"page-header\">Customer Profile</h1>\n        <div className=\"result-box\">\n            <div className=\"result-labels\">\n                <p>Full Name:</p>\n                <p>License Plate:</p>\n                <p>Vehicle Info:</p>\n                <p>Plan Type:</p>\n                <p>Phone:</p>\n                <p>Email Address:</p>\n            </div>\n            <div className=\"result-data\">\n                <p className=\"result-text\">{foundName}</p>\n                <p className=\"result-text\">{foundLicense}</p>\n                <p className=\"result-text\">{foundVehicle}</p>\n                <p className=\"result-text\">{foundPlan}</p>\n                <p className=\"result-text\">{foundPhone}</p>\n                <p className=\"result-text\">{foundEmail}</p>\n            </div>\n        </div>\n            <button\n                className=\"lookup-input search\"\n                style={{backgroundColor: isMouseOver ? \"black\" : \"#E75A25\"}}\n                onMouseOver={handleMouseOver}\n                onMouseOut={handleMouseOut}\n                onClick={handleService}\n            >Service\n            <i class=\"fas fa-tools\"></i>\n            </button>\n            <div className=\"profile-result-container\">\n                <div className=\"profile-headings-box\">\n                    <p className=\"profile-headings-field\">Date</p>\n                    <p className=\"profile-headings-field\">User</p>\n                    <p className=\"profile-headings-field\">Repair Items</p>\n                    <p className=\"profile-headings-field\">License</p>\n                </div>\n                {serviceRepairList.map(createField)}\n            </div>\n        <div className=\"lookup-footer\">\n            <button\n                className=\"back-button\"\n                onClick={() => history.push(\"/lookup\")}>\n                <ArrowBackIcon></ArrowBackIcon>\n            </button>\n            <Footer />\n        </div>\n    </div>\n    )\n}\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}