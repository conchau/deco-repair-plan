{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/connorchau/Desktop/deco-app/client/src/components/Service.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link, Switch, Route, useHistory } from 'react-router-dom';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { chargeBasic, chargePremium, addItemPremium, addItemBasic, addNoRepairPremium, addNoRepairBasic, addSmallChip, addBigChip, addCrackRepair, addCrackStop, addAdditionalChip, addAdditionalSyringe, addMobileFee, removeSmallChip, removeBigChip, removeCrackRepair, removeCrackStop, removeAdditionalChip, removeAdditionalSyringe, removeMobileFee, addDiscount, selectAB, selectBC, selectMB, selectON, selectSK, selectYT, addPremium1, addBasic1, removePlan1, addPremium2, addBasic2, removePlan2, addPremium3, addBasic3, removePlan3, addPremium4, addBasic4, removePlan4 } from \"../actions\";\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport Canvas from \"./Canvas\";\nimport ServiceRepairItemMenu from \"./ServiceRepairItemMenu\";\nimport ServiceRepairItem from \"./ServiceRepairItem\";\n\nfunction Service(props) {\n  _s();\n\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [isMouseOver, setMouseOver] = useState(false);\n  const [buttonDisplay, setButtonDisplay] = useState(false);\n  const foundName = props.location.state.nameResult;\n  const foundLicense = props.location.state.licenseResult;\n  const foundVehicle = props.location.state.vehicleResult;\n  const foundPlan = props.location.state.planResult;\n  const foundPhone = props.location.state.phoneResult;\n  const foundEmail = props.location.state.emailResult;\n  const [userIDInput, setUserIDInput] = useState(\"\");\n  const [mainRepair, setMainRepair] = useState(false);\n  const [noRepair, setNoRepair] = useState(false);\n  const [items, setItems] = useState([]);\n  const mainRepairItems = [\"No Repair\", \"Small Chip\", \"Big Chip\", \"Crack Repair\", \"Crack Stop\"];\n  const [drawStatus, setDrawStatus] = useState(false);\n\n  function handleUserIDInput(event) {\n    setUserIDInput(event.target.value);\n  }\n\n  function updateDropDown(name) {\n    if (name === \"No Repair\") {\n      setNoRepair(true);\n      setMainRepair(true);\n    } else if (name === \"Additional Chip\" && mainRepair === false || name === \"Additional Syringe\" && mainRepair === false || name === \"Mobile Fee ($20 Charge)\" && mainRepair === false) {\n      setMainRepair(true);\n    } else if (name === \"Small Chip\" || name === \"Big Chip\" || name === \"Crack Repair\" || name === \"Crack Stop\") {\n      setMainRepair(true);\n    }\n  } //NEW REPAIR ITEM ADDITIONS\n\n\n  function addItem(newItem) {\n    console.log(newItem);\n    setItems(prevItems => {\n      return [...prevItems, newItem];\n    }); //Update the Hypothetical Repair Price\n\n    if (newItem === \"No Repair\" && foundPlan === \"Premium\") {\n      dispatch(addNoRepairPremium());\n    } else if (newItem === \"No Repair\" && foundPlan === \"Basic\") {\n      dispatch(addNoRepairBasic());\n    } else if (newItem === \"Small Chip\") {\n      dispatch(addSmallChip());\n    } else if (newItem === \"Big Chip\") {\n      dispatch(addBigChip());\n    } else if (newItem === \"Crack Repair\") {\n      dispatch(addCrackRepair());\n    } else if (newItem === \"Crack Stop\") {\n      dispatch(addCrackStop());\n    } else if (newItem === \"Additional Chip\") {\n      dispatch(addAdditionalChip());\n    } else if (newItem === \"Additional Syringe\") {\n      dispatch(addAdditionalSyringe());\n    } else if (newItem === \"Mobile Fee ($20 Charge)\") {\n      dispatch(addMobileFee());\n    }\n  } //NEW REPAIR ITEM DELETIONS\n\n\n  function deleteItem(id, name) {\n    console.log(name); //call an action to delete\n\n    if (name === \"No Repair\") {\n      setNoRepair(false);\n      setMainRepair(false);\n    } else if (name === \"Small Chip\") {\n      dispatch(removeSmallChip());\n      setMainRepair(false);\n\n      if (foundPlan === \"Premium\") {\n        dispatch(chargePremium());\n      } else if (foundPlan === \"Basic\") {\n        dispatch(chargeBasic());\n      }\n    } else if (name === \"Big Chip\") {\n      dispatch(removeBigChip());\n      setMainRepair(false);\n\n      if (foundPlan === \"Premium\") {\n        dispatch(chargePremium());\n      } else if (foundPlan === \"Basic\") {\n        dispatch(chargeBasic());\n      }\n    } else if (name === \"Crack Repair\") {\n      dispatch(removeCrackRepair());\n      setMainRepair(false);\n\n      if (foundPlan === \"Premium\") {\n        dispatch(chargePremium());\n      } else if (foundPlan === \"Basic\") {\n        dispatch(chargeBasic());\n      }\n    } else if (name === \"Crack Stop\") {\n      dispatch(removeCrackStop());\n      setMainRepair(false);\n\n      if (foundPlan === \"Premium\") {\n        dispatch(chargePremium());\n      } else if (foundPlan === \"Basic\") {\n        dispatch(chargeBasic());\n      }\n    } else if (name === \"Additional Chip\") {\n      dispatch(removeAdditionalChip());\n    } else if (name === \"Additional Syringe\") {\n      dispatch(removeAdditionalSyringe());\n    } else if (name === \"Mobile Fee ($20 Charge)\") {\n      dispatch(removeMobileFee());\n    }\n\n    setItems(prevItems => {\n      return prevItems.filter((item, index) => {\n        return index !== id;\n      });\n    });\n  }\n\n  function handleDraw() {\n    setDrawStatus(true);\n  }\n\n  function resetCanvas() {\n    setDrawStatus(false);\n    console.log(items.length);\n  }\n\n  function handleMouseOver() {\n    setMouseOver(true);\n  }\n\n  function handleMouseOut() {\n    setMouseOver(false);\n  }\n\n  function handleGo() {\n    console.log(foundName);\n  }\n\n  function handleBackButton() {\n    history.push({\n      pathname: \"/profile\",\n      state: {\n        nameResult: foundName,\n        licenseResult: foundLicense,\n        vehicleResult: foundVehicle,\n        planResult: foundPlan,\n        phoneResult: foundPhone,\n        emailResult: foundEmail\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"page-header\",\n      children: \"Service Repair\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"service-summary\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"info-label\",\n        children: \"User ID\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"User ID\",\n        className: \"service-input\",\n        maxLength: \"4\",\n        pattern: \"\\\\d{4}\",\n        onChange: handleUserIDInput,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"service-repair-item-section\",\n        children: [/*#__PURE__*/_jsxDEV(ServiceRepairItemMenu, {\n          noRepair: noRepair,\n          mainRepair: mainRepair,\n          onAdd: addItem,\n          onSelect: updateDropDown\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this), items.map((item, index) => {\n          return /*#__PURE__*/_jsxDEV(ServiceRepairItem, {\n            id: index,\n            itemName: item,\n            onDelete: deleteItem\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 29\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }, this), items !== \"\" && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Items have been selected\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"canvas-title\",\n      children: \"Mark the location(s) of the repair\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Canvas, {\n      onChange: handleDraw,\n      onRetry: resetCanvas\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 17\n    }, this), items.some(i => mainRepairItems.indexOf(i) >= 0) && drawStatus === true && userIDInput !== \"\" && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"lookup-input go\",\n      style: {\n        backgroundColor: isMouseOver ? \"black\" : \"#E75A25\"\n      },\n      onMouseOver: handleMouseOver,\n      onMouseOut: handleMouseOut,\n      onClick: handleGo,\n      children: \"Go\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"back-button\",\n      onClick: handleBackButton,\n      children: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Service, \"18uz0C9DAtxreAeEXOOS0L8hPI4=\", false, function () {\n  return [useHistory, useDispatch];\n});\n\n_c = Service;\nexport default Service;\n\nvar _c;\n\n$RefreshReg$(_c, \"Service\");","map":{"version":3,"sources":["/Users/connorchau/Desktop/deco-app/client/src/components/Service.jsx"],"names":["React","useState","useEffect","Link","Switch","Route","useHistory","useSelector","useDispatch","chargeBasic","chargePremium","addItemPremium","addItemBasic","addNoRepairPremium","addNoRepairBasic","addSmallChip","addBigChip","addCrackRepair","addCrackStop","addAdditionalChip","addAdditionalSyringe","addMobileFee","removeSmallChip","removeBigChip","removeCrackRepair","removeCrackStop","removeAdditionalChip","removeAdditionalSyringe","removeMobileFee","addDiscount","selectAB","selectBC","selectMB","selectON","selectSK","selectYT","addPremium1","addBasic1","removePlan1","addPremium2","addBasic2","removePlan2","addPremium3","addBasic3","removePlan3","addPremium4","addBasic4","removePlan4","ArrowBackIcon","Canvas","ServiceRepairItemMenu","ServiceRepairItem","Service","props","history","dispatch","isMouseOver","setMouseOver","buttonDisplay","setButtonDisplay","foundName","location","state","nameResult","foundLicense","licenseResult","foundVehicle","vehicleResult","foundPlan","planResult","foundPhone","phoneResult","foundEmail","emailResult","userIDInput","setUserIDInput","mainRepair","setMainRepair","noRepair","setNoRepair","items","setItems","mainRepairItems","drawStatus","setDrawStatus","handleUserIDInput","event","target","value","updateDropDown","name","addItem","newItem","console","log","prevItems","deleteItem","id","filter","item","index","handleDraw","resetCanvas","length","handleMouseOver","handleMouseOut","handleGo","handleBackButton","push","pathname","map","some","i","indexOf","backgroundColor"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { Link, Switch, Route, useHistory } from 'react-router-dom';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { chargeBasic, chargePremium, addItemPremium, addItemBasic, addNoRepairPremium, addNoRepairBasic, addSmallChip, addBigChip, addCrackRepair, addCrackStop, addAdditionalChip, addAdditionalSyringe, addMobileFee, removeSmallChip, removeBigChip, removeCrackRepair, removeCrackStop, removeAdditionalChip, removeAdditionalSyringe, removeMobileFee, addDiscount, selectAB, selectBC, selectMB, selectON, selectSK, selectYT, addPremium1, addBasic1, removePlan1, addPremium2, addBasic2, removePlan2, addPremium3, addBasic3, removePlan3, addPremium4, addBasic4, removePlan4 } from \"../actions\";\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport Canvas from \"./Canvas\";\nimport ServiceRepairItemMenu from \"./ServiceRepairItemMenu\";\nimport ServiceRepairItem from \"./ServiceRepairItem\";\n\nfunction Service(props) {\n    const history = useHistory();\n    const dispatch = useDispatch();\n    const [isMouseOver, setMouseOver] = useState(false);\n    const [buttonDisplay, setButtonDisplay] = useState(false);\n\n    const foundName = props.location.state.nameResult;\n    const foundLicense = props.location.state.licenseResult;\n    const foundVehicle = props.location.state.vehicleResult;\n    const foundPlan = props.location.state.planResult;\n    const foundPhone = props.location.state.phoneResult;\n    const foundEmail = props.location.state.emailResult;\n\n    const [userIDInput, setUserIDInput] = useState(\"\");\n    const [mainRepair, setMainRepair] = useState(false);\n    const [noRepair, setNoRepair] = useState(false);\n    const [items, setItems] = useState([]);\n    const mainRepairItems = [\"No Repair\", \"Small Chip\", \"Big Chip\", \"Crack Repair\", \"Crack Stop\"];\n    const [drawStatus, setDrawStatus] = useState(false);\n\n\n    function handleUserIDInput(event) {\n        setUserIDInput(event.target.value);\n    }\n\n    function updateDropDown (name) {\n        if (name === \"No Repair\") {\n            setNoRepair(true);\n            setMainRepair(true);\n        } else if (name === \"Additional Chip\" && mainRepair === false || name === \"Additional Syringe\" && mainRepair === false || name === \"Mobile Fee ($20 Charge)\" && mainRepair === false) {\n            setMainRepair(true);\n        } else if (name === \"Small Chip\" || name === \"Big Chip\" || name === \"Crack Repair\" || name === \"Crack Stop\") {\n            setMainRepair(true);\n        }\n    }\n\n    //NEW REPAIR ITEM ADDITIONS\n    function addItem (newItem) {\n        console.log(newItem);\n\n        setItems((prevItems) => {\n            return [...prevItems, newItem];\n        });\n\n\n        //Update the Hypothetical Repair Price\n        if (newItem === \"No Repair\" && foundPlan === \"Premium\") {\n            dispatch(addNoRepairPremium());\n        } else if (newItem === \"No Repair\" && foundPlan === \"Basic\") {\n            dispatch(addNoRepairBasic());\n        } else if (newItem === \"Small Chip\") {\n            dispatch(addSmallChip());\n        } else if (newItem === \"Big Chip\") {\n            dispatch(addBigChip());\n        } else if (newItem === \"Crack Repair\") {\n            dispatch(addCrackRepair());\n        } else if (newItem === \"Crack Stop\") {\n            dispatch(addCrackStop());\n        } else if (newItem === \"Additional Chip\") {\n            dispatch(addAdditionalChip());\n        } else if (newItem === \"Additional Syringe\") {\n            dispatch(addAdditionalSyringe());\n        } else if (newItem === \"Mobile Fee ($20 Charge)\") {\n            dispatch(addMobileFee());\n        }\n    }\n\n    //NEW REPAIR ITEM DELETIONS\n    function deleteItem(id, name) {\n        console.log(name);\n        //call an action to delete\n        if (name === \"No Repair\") {\n            setNoRepair(false);\n            setMainRepair(false);\n        } else if (name === \"Small Chip\") {\n            dispatch(removeSmallChip());\n            setMainRepair(false);\n            if (foundPlan === \"Premium\") {\n                dispatch(chargePremium());\n            } else if (foundPlan === \"Basic\") {\n                dispatch(chargeBasic());\n            }\n        } else if (name === \"Big Chip\") {\n            dispatch(removeBigChip());\n            setMainRepair(false);\n            if (foundPlan === \"Premium\") {\n                dispatch(chargePremium());\n            } else if (foundPlan === \"Basic\") {\n                dispatch(chargeBasic());\n            }\n        } else if (name === \"Crack Repair\") {\n            dispatch(removeCrackRepair());\n            setMainRepair(false);\n            if (foundPlan === \"Premium\") {\n                dispatch(chargePremium());\n            } else if (foundPlan === \"Basic\") {\n                dispatch(chargeBasic());\n            }\n        } else if (name === \"Crack Stop\") {\n            dispatch(removeCrackStop());\n            setMainRepair(false);\n            if (foundPlan === \"Premium\") {\n                dispatch(chargePremium());\n            } else if (foundPlan === \"Basic\") {\n                dispatch(chargeBasic());\n            }\n        } else if (name === \"Additional Chip\") {\n            dispatch(removeAdditionalChip());\n        } else if (name === \"Additional Syringe\") {\n            dispatch(removeAdditionalSyringe());\n        } else if (name === \"Mobile Fee ($20 Charge)\") {\n            dispatch(removeMobileFee());\n        }\n\n        setItems((prevItems) => {\n            return prevItems.filter((item, index) => {\n                return index !== id;\n            });\n        });\n    }\n\n    function handleDraw() {\n        setDrawStatus(true);\n    }\n\n    function resetCanvas() {\n        setDrawStatus(false);\n        console.log(items.length);\n    }\n\n    function handleMouseOver() {\n        setMouseOver(true);\n    }\n\n    function handleMouseOut() {\n        setMouseOver(false);\n    }\n\n    function handleGo() {\n        console.log(foundName);\n    }\n\n    function handleBackButton() {\n        history.push({\n            pathname: \"/profile\",\n            state: {\n                nameResult: foundName,\n                licenseResult: foundLicense,\n                vehicleResult: foundVehicle,\n                planResult: foundPlan,\n                phoneResult: foundPhone,\n                emailResult: foundEmail\n            }\n        });\n    }\n\n    return (\n        <div className=\"page-container\">\n        <h1 className=\"page-header\">Service Repair</h1>\n            <div className=\"service-summary\">\n                <label className=\"info-label\">User ID</label>\n                    <input type=\"text\" placeholder=\"User ID\" className=\"service-input\" maxLength=\"4\" pattern=\"\\d{4}\" onChange={handleUserIDInput} required/>\n                <div className=\"service-repair-item-section\">\n                    <ServiceRepairItemMenu\n                        noRepair={noRepair}\n                        mainRepair={mainRepair}\n                        onAdd={addItem}\n                        onSelect={updateDropDown}\n                    />\n                    {items.map((item, index) => {\n                        return (\n                            <ServiceRepairItem\n                                key={index}\n                                id={index}\n                                itemName={item}\n                                onDelete={deleteItem}\n                            />\n                        );\n                    })}\n                </div>\n                {items !== \"\" && (\n                    <p>Items have been selected</p>\n                )}\n            </div>\n            <p className=\"canvas-title\">Mark the location(s) of the repair</p>\n                <Canvas\n                    onChange={handleDraw}\n                    onRetry={resetCanvas}\n                />\n            {/* Check items array and return true if any of the mainRepairItems are present */}\n            {items.some(i=> mainRepairItems.indexOf(i) >= 0) && drawStatus === true &&  userIDInput !== \"\" && (\n                <button\n                    className=\"lookup-input go\"\n                    style={{backgroundColor: isMouseOver ? \"black\" : \"#E75A25\"}}\n                    onMouseOver={handleMouseOver}\n                    onMouseOut={handleMouseOut}\n                    onClick={handleGo}\n                >Go\n                </button>\n            )}\n            <button\n                className=\"back-button\"\n                onClick={handleBackButton}>\n                <ArrowBackIcon></ArrowBackIcon>\n            </button>\n    </div>\n    )\n}\n\nexport default Service;"]},"metadata":{},"sourceType":"module"}